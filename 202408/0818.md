# TIL (Today I Learned)

# 8월 17일 토요일

# 😃 What I Learned

## ✨오늘 진행한 내용

- [x]  원씽 읽기 및 독후감 작성
- [x]  AWS 관련 공부 진행중
    - [x]  IAM
    - [x]  MFA
    - [x]  VPC, subnet
    - [x]  바스티온 서버

## 공부한 내용

### IAM

- Root 계정
    - 모든 권한 가짐
    - 최대한 자제, IAM 키로 제한된 기능 사용해야
- IAM 계정
    - AWS 리소스를 안전하게 관리하기 위한 서비스
    - 주어진 권한 내의 작업만 할 수 있음

### MFA (다중인증)

- 용자에게 암호 이외의 추가 정보를 입력하도록 요구하는 다중 단계 계정 로그인 과정
- 예시로 이메일 전송 코드 입력, 보안 질문 응답, 지문 스캔 등 (2번째 인증 양식임!)
- 은행에서 OTP 사용하는 것도 동일한 방법
- Google Authenticator 사용해서! 다중 인증하면 된다
- [방법](https://velog.io/@dldldl1022/AWS-%EB%8B%A4%EC%A4%91%EC%9D%B8%EC%A6%9DMFA-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0)

### Region / AZ, Edge Location / Cache

1. Region
    - 네트워크 속도 및 각종 재해 대비를 위해 구분하는 **서버의 물리적인 국가/도시 단위**
    - IDC의 집합체 (Internet Data Center)
    - 법률 규제도 준수하기 위함도 있음
    - 리전마다 가격, 서비스가 다를 수 있음
2. AZ (Available Zones)
    - 각 리전 안의 데이터센터 (서버 컴퓨터들이 모여있는 건물)
    - 기본적으로 AWS의 각 리전 안에는 2개 이상의 가용영역 존재 (서울은 2개)
    - 물리적으로 떨어져있어 1개의 데이터센터가 죽어도 서비스 운영을 위함
    - 그러나 모든 AZ는 서로 100km 이내에 위치해야함 (광통신 전용망에 따른 속도)
    - 가용영역은 매핑 정보로 실제 데이터센터와 1대1로 매핑되지 않는다, 내 계정의 가용영역 A는 다른 계정의 가용영역 A와 데이터 저장센터 위치는 다르다.
3. Edge Location
    - cdn들의 여러 서비스들을 가장 빠른 속도로 캐싱하기 위한 거점
    - AZ와 별개로 AWS 의 CDN 서비스인 CloudFront와 AWS DNS 서비스인 Route53의 캐시 서버를 의미
    - Original Data ↔ **Edge Location** ↔ 사용자 End Point
    - CDN이란?
        - 속도 개선과 회선 비용 절감을 위해 End Point에 물리적으로 가까운 곳에서 데이터 제공하는 방법
        - 최초 요청 시에는 서버로부터 콘텐츠를 가져와 고객에게 전송하며, 동시에 CDN 캐싱장비에 저장
        이후에는 CDN 캐싱 장비에 저장된 콘텐츠를 바로 전송하는 방식
4. Cache
    - CDN과 Edge Location 사이에 위치
    - 서비스 이용 시에 Edge Location 에 컨텐츠가 없으면 리전별 엣지 캐시에서 검색 시도
    - CDN 서비스에서의 엣지로케이션과 비슷한 개념

### VPC, Subnet

- VPC : 사용자가 정의하는 AWS 계정 사용자 전용 가상의 네트워크
    - AWS 용 나만의 개인 네트워크 망 데이터 센터 (IP 주소 범위 선택, 서브넷 생성, 라우팅 테이블, 네트워크 게이트웨이 구성)
    - 모든 서비스에 VPC 적용하도록 강제

- Aws Clound - Region [VPC] - 2 개의 AZ - 각각 서브넷
- VPC는 Region당 1개씩으로 다른 Region과 걸쳐 확장 불가능 (Region에 종속)
- 한 Region 안에 VPC 를 여러개 설치하면 IP가 겹치면 안됨
- 유의할 점으로 AWS에서는 /16 ~ /28 비트 서브넷 마스크만 허용
- VPC 설정 IP 대역은 수정 불가
- 각각 VPC는 독립적임으로 서로 통신 불가능, 통신하려면 VPC 피어링 서비스 사용해야
- 

- AWS Subnet
    - VPC의 IP 주소를 나누어 리소스가 배치되는 물리적인 주소 범위
    - 하나의 AZ에서만 생성 가능
    - VPC를 나눈 것임으로 당연히 VPC 보다 대역폭이 낮아야 한다

- Subnet
    - 하나의 네트워크가 분할되어 나누어진 작은 네트워크
    - IP 할당범위를 더 작은 단위로 쪼갤 수 있음. 예를 들어 IP가 100개만 필요하다면, C 클래스 (256개)를 더 쪼개어 줄 수 있음
    - 이는 서브넷 마스크를 통해 계산 (1인 부분이 네트워크, 0인 부분이 호스트)
    - 맨 첫 IP는 네트워크 주소, 맨 마지막 IP는 브로드캐스팅 주소이다
        - 192.168.1.0
        - 192.168.1.255
    - 192.168.0.1/24 (IP/서브넷마스크), 1의 갯수가 24개라는 뜻. 즉 호스트는 8비트
    - **서브네팅**
        - IP 주소를 효율적으로 나누어 사용하기 위한 바법 (자신의 네트워크 주소를 더 작은 서브네트워크로 2의 배수로 나누는 과정)
    
    
    
    - 1층에 100개, 2층에 50개, 3층에 30개의 IP를 줘야 한다면? ⇒ 큰 개수의 IP 부터 할당한다
        - 서브넷마스크를 잘 보자
            - 1층 : 11111111 11111111 11111111 10000000 ⇒ 호스트 7비트 (128)
            - 2층 : 111111111 11111111 11111111 11000000 ⇒ 호스트 6비트 (64)
            - 3층 : 111111111 11111111 11111111 11100000 ⇒ 호스트 5비트 (32)
    
    
    - 슈퍼네팅
        - 서브네팅과 반대로 네트워크를 합치는 것
        - 만약 254개 (256 - 2) 개의 호스트를 가지고 있었는데, 네트워크가 이후에 500 개의 호스트를 수용해야 한다면?
        - C 클래스를 넘어서니까 B를 통째로 주어야 하나? 그러지 말고 C 클래스 2개를 합치면 된다.
        - **192.168.10.0/24 에서 192.168.10.0/23으로 prefix숫자를 감소 ⇒ 쉽다!**
            - 아이피 : 11000000.10101000.00001010.00000000 (192.168.10.0)
            - 서브넷 마스크 : 11111111.11111111.11111110.00000000 (255.255.254.0)
        - 총 510 ( 512 - 2) 개의 IP를 가질 수 있게 된다.
    - 참조
        - [https://inpa.tistory.com/entry/WEB-IP-클래스-서브넷-마스크-서브넷팅-총정리?category=943705](https://inpa.tistory.com/entry/WEB-IP-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%84%9C%EB%B8%8C%EB%84%B7-%EB%A7%88%EC%8A%A4%ED%81%AC-%EC%84%9C%EB%B8%8C%EB%84%B7%ED%8C%85-%EC%B4%9D%EC%A0%95%EB%A6%AC?category=943705)

### Bastion

## ✨내일 진행할 내용

- [ ]  위 AWS 내용 자기전에 공부
- [ ]  ~~작성!!~~
- [ ]  ~~이력관리~~
    - [ ]  ~~포트폴리오 최신화 (진행중)~~
        - [ ]  ~~분산락 내용은 최대한 뒤로 뺄 것 → 공격들어오기 좋을듯~~
        - [ ]  ~~채점 서버 구현 내용 추가~~

# 😜 Today’s Small Happiness

# 🧐 Let’s Think About It

- 생각보다 해야할 게 많을지도..? 라는 생각이 들었따..^^

# 🙀 Got Stuck..