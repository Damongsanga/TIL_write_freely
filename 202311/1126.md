# TIL (Today I Learned)

# 11ì›” 26ì¼ ì¼ìš”ì¼

# ğŸ˜ƒÂ What I Learned

## @JsonPropertyì™€ @JsonNaming

- Json ë°ì´í„°ì˜ ì—­ì§ë ¬í™” (í†µì‹ ì— ìœ ë¦¬í•œ JSON ë°ì´í„° ë“±ì„ ê°ì²´ë¡œ ë³€í™˜í•˜ëŠ” ì‘ì—…, ê·¸ ë°˜ëŒ€ëŠ” ë‹¹ì—°íˆ ì§ë ¬í™”) ì— ìì£¼ ì“°ì¸ë‹¤
- ë³´í†µ snake_caseë¥¼ camelCaseë¡œ ë³€ê²½í•˜ëŠ”ë° ë§ì´ ì“°ì¸ë‹¤
- ë”°ë¼ì„œ ë³´í†µì€ @JsonNamingì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í¸í•˜ê³  ê¹”ë”í•˜ë‹¤
- í•˜ì§€ë§Œ ë‚´ê°€ ì‚¬ìš©í–ˆë˜ ê²ƒ ì²˜ëŸ¼ í•„ë“œëª… ìì²´ë¥¼ ë°”ê¿”ì•¼ í•˜ëŠ” ê²½ìš°ëŠ” ì§€ì •í•˜ì—¬ JsonPropertyë¥¼ ì…ë ¥í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë‹¤.
    - **ê·¸ëŸ¬ë‚˜ ì—¬ê¸°ì„œ ì£¼ì˜! @JsonPropertyëŠ” ë§ ê·¸ëŒ€ë¡œ â€œë§µí•‘â€í•´ì£¼ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ì§ë ¬í™”í•  ë•Œ ë‹¤ì‹œ ì—­ì§ë ¬í™” í•˜ê¸° ì „ì˜ keyê°’ìœ¼ë¡œ ëŒì•„ê°„ë‹¤ëŠ” ê²ƒì„ ì£¼ì˜í•´ì•¼ í•œë‹¤.**
    - **ì•„ë˜ ì½”ë“œëŠ” json input dataë¥¼ ë°”ê¾¸ëŠ” ì½”ë“œì´ë‹¤.**
    - **json dataì—ì„œëŠ” handle**
    
    ```json
    {
      "handle": "bmike0413",
      "profileImageUrl": "https://static.solved.ac/uploads/profile/bmike0413-picture-1690439048194.png",
      "solvedCount": 304,
      "tier": 16,
      "rating": 1602,
    	"rank": 6815,
    ...
    }
    ```
    
    - **Backì—ì„œ ì—­ì§ë ¬í™”í•  ë•ŒëŠ” userNameìœ¼ë¡œ ë§µí•‘í•˜ì—¬ ì‚¬ìš©í•œë‹¤.**
    
    ```java
    @Data
    @JsonIgnoreProperties(ignoreUnknown = true)
    public class User {
    
        private int userId;
        @JsonProperty("handle")
        private String userName;
        private int tier;
        @JsonProperty("rank")
        private int solvedRank;
        @JsonProperty("profileImageUrl")
        private String imgUrl;
    }
    ```
    
    - **ê·¸ëŸ¬ë‚˜ ì´ë¥¼ frontë¡œ ë‹¤ì‹œ ì§ë ¬í™”í•˜ì—¬ ì „ì†¡í•˜ë©´ ë‹¤ì‹œ handleì´ ëœë‹¤.**
    
    ![Untitled](Images/1126.png)
    

- ë³´í†µ snake_caseë¥¼ camelCaseë¡œ ë³€ê²½í•  ë•Œì˜ ì˜ˆì‹œ

```java
public class OAuthToken {

    @JsonProperty("access_token")
    private String accessToken;
    @JsonProperty("refresh_token")
    private String refreshToken;
    @JsonProperty("token_type")
    private String tokenType;
    private String name;
    @JsonProperty("expires_in")
    private int expiresIn;
    private String scope;
}
```

```java
@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)
public class OAuthToken {

    private String accessToken;
    private String refreshToken;
    private String tokenType;
    private String name;
    private int expiresIn;
    private String scope;
}
```

## Spring ë¹ˆ ìŠ¤ì½”í”„ (ê¹€ì˜í•œ ê°•ì‚¬)

- ë¹ˆ ìŠ¤ì½”í”„ë€? : ë¹ˆì´ ì¡´ì¬í•  ìˆ˜ ìˆëŠ” ë²”ìœ„
- ì‹±ê¸€í†¤ vs í”„ë¡œí† íƒ€ì…
    - ì‹±ê¸€í†¤ : **ê¸°ë³¸ ìŠ¤ì½”í”„, ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì˜ ì‹œì‘ê³¼ ì¢…ë£Œê¹Œì§€ ìœ ì§€**
    - í”„ë¡œí† íƒ€ì… : **ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” í”„ë¡œí† íƒ€ì… ë¹ˆì˜ ìƒì„±ê³¼ ì˜ì¡´ê´€ê³„ ì£¼ì…ê¹Œì§€ë§Œ ê´€ì—¬**
- í”„ë¡œí† íƒ€ì… íŠ¹ì§•
    - í•­ìƒ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±, ë°˜í™˜
    - **í•µì‹¬ì€ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” í”„ë¡œí† íƒ€ì… ë¹ˆì„ ìƒì„±í•˜ê³ , ì˜ì¡´ê´€ê³„ ì£¼ì…, ì´ˆê¸°í™”ê¹Œì§€ë§Œ ì²˜ë¦¬í•œë‹¤ëŠ” ê²ƒì´ë‹¤.** í´ë¼ì´ì–¸íŠ¸ì— ë¹ˆì„ ë°˜í™˜í•˜ê³ , ì´í›„ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ìƒì„±ëœ **í”„ë¡œí† íƒ€ì… ë¹ˆì„ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤.**
- Provider
    - ObjectProvider
        - Spring ì˜ì¡´
    - JSR-330 Provider
        - Java í‘œì¤€

### ì›¹ ìŠ¤ì½”í”„

- **ì›¹ í™˜ê²½ì—ì„œë§Œ ë™ì‘**
- í”„ë¡œí† íƒ€ì…ê³¼ ë‹¤ë¥´ê²Œ **ìŠ¤í”„ë§ì´ í•´ë‹¹ ìŠ¤ì½”í”„ì˜ ì¢…ë£Œì‹œì ê¹Œì§€ ê´€ë¦¬í•œë‹¤. ë”°ë¼ì„œ ì¢…ë£Œ ë©”ì„œë“œê°€ í˜¸ì¶œ**
- **í•µì‹¬ì€ ì—¬ëŸ¬ ìš”ì²­ì´ ë™ì‹œì— ì˜¤ë”ë¼ë„ ê°ì ìš”ì²­ì— ë”°ë¼ ê°œë³„ bean ìœ¼ë¡œ ê´€ë¦¬í•´ì¤€ë‹¤ëŠ” ê²ƒì´ë‹¤**
- MyLogger ìƒì„±ì„ í†µí•œ request scope í™œìš©
    - ì‚¬ìš© ì´ìœ  : **requestURL ê°™ì€ ì›¹ê³¼ ê´€ë ¨ëœ ì •ë³´ê°€ ì›¹ê³¼ ê´€ë ¨ì—†ëŠ” ì„œë¹„ìŠ¤ ê³„ì¸µê¹Œì§€ ë„˜ì–´ê°€ê²Œ ëœë‹¤,** ì„œë¹„ìŠ¤ ê³„ì¸µì— ë¬´ê´€í•œ ì •ë³´ë“¤ì€ ë„˜ê¸°ì§€ ì•Šê³  ì›¹ ê³„ì¸µì— ì¢…ì†ë˜ì§€ ì•Šê²Œ ìˆœìˆ˜í•˜ê²Œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ìœ ì§€ë³´ìˆ˜ ì¸¡ë©´ì—ì„œ ì¢‹ìŒ
    - ì´ëŠ” ë³´í†µ ì»¨íŠ¸ë¡¤ëŸ¬ë³´ë‹¤ëŠ” ê³µí†µ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•œ ì¸í„°ì…‰í„°ë‚˜ ì„œë¸”ë¦¿ í•„í„°ì— ìƒì„±í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ
- ì—ëŸ¬
    - **ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ì‹œì ì— ì‹±ê¸€í†¤ ë¹ˆì€ ìƒì„±í•´ì„œ ì£¼ì…í•´ì•¼ í•˜ì§€ë§Œ, request ìŠ¤ì½”í”„ ë¹ˆì€ ì•„ì§ ìƒì„±ë˜ì§€ ì•ŠëŠ”ë‹¤(ê³ ê° requestê°€ ì—†ìŒìœ¼ë¡œ).** ì´ ë¹ˆì€ ì‹¤ì œ ê³ ê°ì˜ ìš”ì²­ì´ ì™€ì•¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤!
- í•´ê²° ë°©ë²•
    1. Provider
        1. **ObjectProvider.getObject()` ë¥¼ í˜¸ì¶œí•˜ëŠ” ì‹œì ê¹Œì§€ request scope ë¹ˆì˜
        ìƒì„±ì„ ì§€ì—°**
    2. Proxy
        1. **CGLIBë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë‚´ í´ë˜ìŠ¤ë¥¼ ìƒì† ë°›ì€ ê°€ì§œ í”„ë¡ì‹œ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ì£¼ì…**
- **Providerë¥¼ ì‚¬ìš©í•˜ë“ , í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•˜ë“  í•µì‹¬ ì•„ì´ë””ì–´ëŠ” ì§„ì§œ ê°ì²´ ì¡°íšŒë¥¼ ê¼­ í•„ìš”í•œ ì‹œì ê¹Œì§€ ì§€ì—°ì²˜ë¦¬í•œë‹¤ëŠ” ì ì´ë‹¤.**
- ì´ëŠ” ê¼­ í•„ìš”í•œ ê³³ì—ì„œë§Œ ì‚¬ìš© (ì‹±ê¸€í†¤ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ê°ì²´ê°€ ê³„ì† ìƒì„±ë¨ìœ¼ë¡œ, ê·¸ë¦¬ê³  í…ŒìŠ¤íŠ¸ë„ ì–´ë ¤ì›Œì§)

### ê¸°íƒ€

> **@RequiredArgsConstructor**ëŠ” **ì´ˆê¸°í™” ë˜ì§€ì•Šì€ final í•„ë“œë‚˜, @NonNull ì´ ë¶™ì€ í•„ë“œì— ëŒ€í•´ ìƒì„±ìë¥¼ ìƒì„± (by Lombok)** ìƒˆë¡œìš´ í•„ë“œë¥¼ ì¶”ê°€í•  ë•Œ ë‹¤ì‹œ ìƒì„±ìë¥¼ ë§Œë“¤ì–´ì„œ ê´€ë¦¬í•´ì•¼í•˜ëŠ” ë²ˆê±°ë¡œì›€ì„ ì—†ì• ì¤€ë‹¤. (@Autowiredë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì˜ì¡´ì„± ì£¼ì…)
> 

# ğŸ˜œÂ Todayâ€™s Small Happiness

- ë„ˆë¬´ ì˜¤ëœë§Œì˜ ì£¼ë§!

# ğŸ§Â Letâ€™s Think About It

- 

# ğŸ™€Â Got Stuck..

-