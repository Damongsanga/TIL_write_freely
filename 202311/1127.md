# TIL (Today I Learned)

# 11월 27일 월요일

# 😃 What I Learned

## JPA 첫 강의

### 왜 JPA를 사용해야 하는가?

1. **객체와 DB 엔티티 간 의 불일치 해결**
    1. **상속**
        
        저장 조회시 상속관계면 테이블 따로 로직, join도 필요
        
    2. **연관관계** 
        
        참조형 데이터 직접 데이터로 지정 불가
        
    3. **데이터 타입** 
        
        SQL 쿼리 작성시 로직에 따라서 탐색 범위가 한정되는 문제, 이를 위해 모든 탐색 메소드 분기 필요
        
    4. **데이터 식별** 
        
        equals
        

1. **성능** 
    
    **1. 1차 캐시와 동일성(identity) 보장**
    
    1. 같은 트랜잭션 안에서는 캐시에 저장하여 같은 엔티티를 반환 - 약간의 조회 성능 향상
    2. DB Isolation Level이 Read Commit이어도 애플리케이션에서 Repeatable Read 보장!
    
    **2. 트랜잭션을 지원하는 쓰기 지연(transactional write-behind)**
    
    1. 트랜잭션을 커밋할 때까지 INSERT SQL을 모음
    2. JDBC BATCH SQL 기능을 사용해서 한번에 SQL 전송
    
    **3. 지연 로딩(Lazy Loading) : 지연/즉시로딩 설정 가능**
    
    - 지연 로딩 : 객체가 실제 사용될 때 로딩
    - 즉시 로딩: JOIN SQL로 한번에 연관된 객체까지 미리 조회

## OOP, UML SSAFY 특강 1차

- 솔직히.. 크게 배운 내용은 없음

### [객체와 분류 관계](https://minusi.tistory.com/entry/%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5%EC%A0%81-%EA%B4%80%EC%A0%90%EC%97%90%EC%84%9C%EC%9D%98-has-a%EC%99%80-is-a-%EC%B0%A8%EC%9D%B4%EC%A0%90) (블로그 발췌)

- is a :
    - 밀접한 결합 (상속)
    - 부모 또는 기저 클래스의 명세에 변경이 발생하면 코드가 손상될 위험
    - 클래스 계층구조에서 좀 더 안정적인 기반을 마련, 상위 클래스의 기능을 하위 클래스가 물려받아 사용할 수 있는 장점
    
    - **is-a**는 추상화(형식이나 클래스와 같은)들 사이의 포함 관계를 의미하며, 한 클래스 A가 다른 클래스 B의 서브클래스(파생클래스)임을 이야기합니다.
    - 다른 말로, 타입 A는 타입 B의 명세(*specification*)를 암시한다는 점에서 타입 B의 서브타입이라고도 할 수 있습니다.
    - is-a 관계는 타입 또는 클래스 간의 has-a 관계와는 대조됩니다. has-a 및 is-a 관계들 간의 혼동은 실세계 관계 모델에 대한 설계에 있어 자주 발견되는 에러입니다.
    - is-a 관계는 또한 객체 또는 타입 간의 **instance-of** 관계와도 대조됩니다.
- has a :
    - 느슨한 결합
    - 상속에 비해서 명세에 변경이 발생하더라도 구성 요소를 쉽게 변경할 수 있다는 의미 (코드의 손상이나 변경이 적음)
    - 실무에서는 has-a 관계를 더 선호하지만 반드시 더 좋은 것은 아님
    - **has-a**는 구성 관계를 의미하며 한 오브젝트(구성된 객체, 또는 부분/멤버 객체라고도 부릅니다)가 다른 오브젝트(composite type이라고 부릅니다)에 "속한다(*belongs to*)"를 말합니다.
    - 단순히 말해, has-a 관계는 객체의 멤버 필드라고 불리는 객체를 말하며, Multiple has-a 관계는 소유 계층구조를 형성하기 위해 결합하는 경우를 말합니다.

- 사용 예시
    - **상속**의 경우 **is 관계가 확실하면 사용**하는 것이 좋습니다. 몇 가지 예는 다음과 같습니다 :
        - 사람은 **인간**이다.
        - 고양이는 **동물**이다.
        - 게임 캐릭터는 **엔티티**이다.
    - **구성(composition)**의 경우, **하나의 객체가 다른 객체를 "(부분으로써) 갖거나" 하는 경우**에 사용할 수 있습니다. 몇 가지 예는 다음과 같습니다
        - 자동차는 **배터리**를 가지고 있다.
        - 사람은 **심장**을 가지고 있다.
        - 전투기는 **HUD**를 가지고 있다.

# 😜 Today’s Small Happiness

- 카페 공부 좋아! 늦잠 좋아! 출퇴근 안하는거 너무 좋아!
- 오래 걸렸지만 그래도 카카오 Lv 4 품..! 내일은 Lv 5에 도전해보자..!

# 🧐 Let’s Think About It

- 비트마스킹으로 변경상태를 저장하는 문제에 더 익숙해져보자

# 🙀 Got Stuck..

-