# TIL (Today I Learned)

# 2μ›” 12μΌ μ›”μ”μΌ

# πƒΒ What I Learned

## ν”„λ΅μ νΈ 28μΌμ°¨

### μ¤λ ν• λ‚΄μ©

- [x]  github OAuth ν…μ¤νΈ (λ™κ±΄μ΄ DB λ‚ λ¦¬λ©΄ λ‹¤μ‹) β‡’ SSL μΈμ¦ λ¬Έμ λ΅ λ™κ±΄μ΄λ‘ κ°™μ΄ ν•΄κ²°ν•΄μ•Ό ν• λ“―
    - [x]  **Nginxλ‘ ν†µμ‹ ν•λ ¤λ©΄ [http://i10a506.p.ssafy.io:3002](http://i10a506.p.ssafy.io:3002) λ€μ‹  https://i10a506.p.ssafy.io/api λ¥Ό μ‚¬μ©ν•΄μ•Ό!**
- [x]  API μ¶”κ°€
- [x]  Optional Refactoring
    - [x]  Optionalμ— λ€ν• κ³µλ¶€ & μ™ Optionalμ„ μ‚¬μ©ν•΄μ•Όν•λ”κ°€?
    - [x]  Optional μ„ μ‚¬μ©ν•μ§€ μ•μ•μ„ λ•λ” μ™ κ·Έλ°κ°€?
    - [x]  κ³µλ¶€ λ° λ¦¬ν©ν† λ§ν• λ‚΄μ©μ„ λΈ”λ΅κ·Έ κΈ€λ΅ μ‘μ„±ν•΄μ„ λ‚¨κΈΈ κ²ƒ

### λ‚΄μΌ ν•  λ‚΄μ©

- [ ]  μ¤νΈλ¦Ό κ³µλ¶€
- [ ]  λ¨λ μλ°”μ νΉμ§• μ •λ¦¬

### λ°°ν¬ μ‹ μμ •ν•  λ‚΄μ©

- [ ]  κ°λ° λλ‚κ³  μμ •ν•  λ‚΄μ©
    - [ ]  METADATA μ‘μ„± μµμ† μ‹κ°„ 5μ΄ β†’ 5λ¶„ λ―Έλ§μΌλ΅ μμ •
    - [ ]  `GlobalExceptionHandler` `@ExceptionHandler(RestApiException.class)` printstacktrace μ‚­μ 
    - [ ]  Referer κ²€μ¦ λ΅μ§ μ¶”κ°€

### νΈλ¬λΈ” μν…?

- ResponseEntityλ΅ redirectν•κΈ°!
- 303
    
    ```java
    ResponseEntity.status(HttpStatus.SEE_OTHER)
    		.location(URI.create("/room/" + roomId + "/enter")).build();
    ```
    
- **303 redirectλ” GET!**
- GPT
    
    **HTTP ν”„λ΅ν† μ½μ—μ„λ” μΌλ°μ μΌλ΅ λ¦¬λ‹¤μ΄λ ‰μ…μ€ GET μ”μ²­μ—λ§ μ μ©λ©λ‹λ‹¤. μ΄λ” HTTP λ¦¬λ‹¤μ΄λ ‰μ… μƒνƒ μ½”λ“ μ¤‘ ν•λ‚μΈ 3xx μ‹λ¦¬μ¦μ μƒνƒ μ½”λ“κ°€ μ£Όλ΅ GET μ”μ²­μ— μ‚¬μ©λκΈ° λ•λ¬Έ**μ…λ‹λ‹¤.
    
    POST μ”μ²­μ„ λ¦¬λ‹¤μ΄λ ‰νΈν•λ” κ²ƒμ€ HTTPμ κ·μ•½μ— μ–΄κΈ‹λ‚λ” κ²ƒμΌλ΅ κ°„μ£Όλ©λ‹λ‹¤. λ³΄ν†µ POST μ”μ²­μ€ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— λ°μ΄ν„°λ¥Ό μ μ¶ν•κ³ , μ΄μ— λ€ν• μ‘λ‹µμ„ λ°›λ” μ©λ„λ΅ μ‚¬μ©λ©λ‹λ‹¤. λ§μ•½ POST μ”μ²­μ„ λ¦¬λ‹¤μ΄λ ‰νΈν•λ‹¤λ©΄, ν΄λΌμ΄μ–ΈνΈλ” μ²μ POST μ”μ²­μ„ λ°›μ€ μ„λ²„κ°€ μ•„λ‹ λ‹¤λ¥Έ μ„λ²„λ΅ λ‹¤μ‹ μ”μ²­μ„ λ³΄λ‚΄μ•Ό ν•λ”λ°, μ΄λ” λ³΄μ•κ³Ό μ•μ •μ„±μ— λ¬Έμ λ¥Ό μΌμΌν‚¬ μ μμµλ‹λ‹¤.
    
    λ”°λΌμ„ POST μ”μ²­μ„ λ°›μ•μ„ λ• ν΄λΌμ΄μ–ΈνΈλ¥Ό λ‹¤λ¥Έ κ²½λ΅λ΅ μ•λ‚΄ν•λ ¤λ©΄ μΌλ°μ μΌλ΅λ” λ‹¤λ¥Έ λ°©λ²•μ„ μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ—κ² μ”μ²­μ΄ μ„±κ³µν–μμ„ λ‚νƒ€λ‚΄λ” μ‘λ‹µμ„ λ³΄λ‚΄κ±°λ‚, ν΄λΌμ΄μ–ΈνΈμ—κ² μƒλ΅μ΄ κ²½λ΅λ΅ μ΄λ™ν•λΌλ” μ •λ³΄λ¥Ό μ κ³µν•  μ μμµλ‹λ‹¤. μ΄λ” μ£Όλ΅ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ μ΄ μ •λ³΄λ¥Ό μ΄μ©ν•μ—¬ μλ°”μ¤ν¬λ¦½νΈλ¥Ό ν†µν•΄ λ¦¬λ‹¤μ΄λ ‰μ…μ„ μν–‰ν•©λ‹λ‹¤.
    

```java
@PostMapping("/join-request/{roomId}")
    public ResponseEntity<?> joinRequest(@PathVariable Long roomId){
        String memberId = MemberUtil.getMemberId();
        if(!noteService.sendJoinNote(roomId, memberId)){
            return ResponseEntity.status(HttpStatus.SEE_OTHER).location(URI.create("/room/" + roomId + "/enter")).build();
        }
        return ResponseEntity.ok().build();
    }
```

- 303? 307?
- gpt
    - **303 See Other**: μ΄ μ‘λ‹µ μ½”λ“λ” POST μ”μ²­μ κ²°κ³Όκ°€ μ™„μ „ν λ‹¤λ¥Έ URLμ— μ„μΉν•κ³  μμμ„ λ‚νƒ€λƒ…λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ΄ μ‘λ‹µμ„ λ°›μΌλ©΄ **GET μ”μ²­μ„ μ‚¬μ©ν•μ—¬ μƒλ΅μ΄ μ„μΉλ΅ μ΄λ™ν•΄μ•Ό** ν•©λ‹λ‹¤. μ΄λ” μ£Όλ΅ POST μ”μ²­μ— λ€ν• μ‘λ‹µμΌλ΅ λ¦¬λ‹¤μ΄λ ‰μ…ν•  λ• μ‚¬μ©λ©λ‹λ‹¤.
    - **307 Temporary Redirect: μ΄ μ‘λ‹µ μ½”λ“λ” μ›λμ μ”μ²­ λ°©μ‹μ„ μ μ§€ν• μ±„ λ¦¬λ‹¤μ΄λ ‰μ…μ„ μν–‰ν•©λ‹λ‹¤. λ”°λΌμ„ POST μ”μ²­μ— λ€ν• μ‘λ‹µμΌλ΅ λ¦¬λ‹¤μ΄λ ‰μ…ν•  λ• μ‚¬μ©**λ©λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” κ°™μ€ HTTP λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ—¬ λ¦¬λ‹¤μ΄λ ‰μ…λ μ„μΉλ΅ μ”μ²­μ„ λ‹¤μ‹ λ³΄λƒ…λ‹λ‹¤.
    
    μΌλ°μ μΌλ΅ μ΄λ¬ν• μƒνƒ μ½”λ“λ¥Ό μ‚¬μ©ν•  λ•λ” μ”μ²­μ μ„±κ²©κ³Ό μλ„μ— λ”°λΌ μ„ νƒλμ–΄μ•Ό ν•©λ‹λ‹¤. λ§μ•½ λ¦¬λ‹¤μ΄λ ‰μ…λ μ„μΉμ—μ„ ν΄λΌμ΄μ–ΈνΈκ°€ μƒλ΅μ΄ λ¦¬μ†μ¤λ¥Ό κ°€μ Έμ™€μ•Ό ν•  κ²½μ°μ—λ” 303μ΄ μ ν•©ν•©λ‹λ‹¤. κ·Έλ¬λ‚ λ¦¬λ‹¤μ΄λ ‰μ…λ μ„μΉμ—μ„ ν΄λΌμ΄μ–ΈνΈκ°€ λ™μΌν• μ‘μ—…μ„ λ‹¤μ‹ μν–‰ν•΄μ•Ό ν•  κ²½μ°μ—λ” 307μ΄ μ ν•©ν•©λ‹λ‹¤.
    
    λ”°λΌμ„ POST μ”μ²­μ— λ€ν• λ¦¬λ‹¤μ΄λ ‰μ…μ—μ„ 303μ΄ μ„ νƒλ μ΄μ λ” ν΄λΌμ΄μ–ΈνΈκ°€ GET μ”μ²­μ„ μ‚¬μ©ν•μ—¬ μƒλ΅μ΄ μ„μΉλ΅ μ΄λ™ν•΄μ•Ό ν•  κ²ƒμΌλ΅ νλ‹¨λκΈ° λ•λ¬Έμ…λ‹λ‹¤. λ§μ•½ λ™μΌν• POST μ”μ²­μ„ μ μ§€ν•κ³ μ ν•  λ•λ” 307μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
    
    HTTP μƒνƒ μ½”λ“ 303μ€ λ¦¬λ‹¤μ΄λ ‰μ… μ‹μ— GET μ”μ²­μ„ μ λ„ν•κΈ° λ•λ¬Έμ— λ³Έλ¬Έ(body)μ— κ°’μ„ ν¬ν•¨ν•  μ μ—†μµλ‹λ‹¤. λ”°λΌμ„ λ§μ•½ λ¦¬λ‹¤μ΄λ ‰μ… ν›„μ—λ„ POST μ”μ²­μ„ μ μ§€ν•λ©΄μ„ λ³Έλ¬Έμ— κ°’μ„ ν¬ν•¨ν•΄μ•Ό ν•λ‹¤λ©΄ 303 μƒνƒ μ½”λ“λ” μ μ ν•μ§€ μ•μµλ‹λ‹¤.
    
    λ€μ‹ μ—, 307 Temporary Redirect μƒνƒ μ½”λ“λ¥Ό μ‚¬μ©ν•μ—¬ POST μ”μ²­μ„ μ μ§€ν•λ©΄μ„ λ¦¬λ‹¤μ΄λ ‰μ…μ„ μν–‰ν•  μ μμµλ‹λ‹¤. 307 μƒνƒ μ½”λ“λ” μ›λ μ”μ²­ λ°©μ‹μ„ μ μ§€ν• μ±„λ΅ λ¦¬λ‹¤μ΄λ ‰μ…μ„ μν–‰ν•κΈ° λ•λ¬Έμ— λ³Έλ¬Έμ— κ°’μ„ ν¬ν•¨ν•  μ μμµλ‹λ‹¤.
    
    λ”°λΌμ„ λ³Έλ¬Έμ— κ°’μ„ ν¬ν•¨ν•΄μ•Ό ν•λ” κ²½μ°μ—λ” 307 Temporary Redirect μƒνƒ μ½”λ“λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μ μ ν•©λ‹λ‹¤.
    

## κ³µλ¶€ν• λ‚΄μ©

### [Connection Timeout vs Read Timeout](https://www.notion.so/Connection-Timeout-vs-Read-Timeout-8a1a091d8d6c40eaa5b869ca3c6d0293?pvs=21)

### [SSL/TLS, HTTP vs HTTPS](https://www.notion.so/SSL-TLS-HTTP-vs-HTTPS-16dcb24b582a4d60a71e989944804195?pvs=21)

### Velog λΈ”λ΅κ·Έ μ΄μ „ λ° κΈ€ μ‘μ„±

[https://velog.io/@damongsanga/μλ°”-μ§λ ¬ν™”-Serializable-μ™€-κµ¬ν„ν• -λ•μ-λ¬Έμ μ ](https://velog.io/@damongsanga/%EC%9E%90%EB%B0%94-%EC%A7%81%EB%A0%AC%ED%99%94-Serializable-%EC%99%80-%EA%B5%AC%ED%98%84%ED%95%A0-%EB%95%8C%EC%9D%98-%EB%AC%B8%EC%A0%9C%EC%A0%90)

[https://velog.io/@damongsanga/Connection-Timeoutκ³Ό-Read-Timeoutμ-μ°¨μ΄μ -RTO-RTT](https://velog.io/@damongsanga/Connection-Timeout%EA%B3%BC-Read-Timeout%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90-RTO-RTT)

# πΒ Todayβ€™s Small Happiness

# π§Β Letβ€™s Think About It

# π™€Β Got Stuck..