# TIL (Today I Learned)

# 4월 30일 화요일

# 😃 What I Learned

## ✨오늘 진행한 내용

- [x]  history 조회 slice → page
- [x]  채점 서버 구현
    - [x]  2358 포트 연동 확인 ([http://3.39.235.64:2358/docs](http://3.39.235.64:2358/docs))
    - [x]  싸피에서 3000번대 포트로 해야한다고 함.. 하… ㅋㅋㅋㅋ
    - [x]  테스트 위한 채점 서비스 요청만 해보기
    - [ ]  채점 서비스 구현
        - [x]  문제 & 채점 서비스 get
        - [ ]  webclient를 활용한 통신
        - [ ]  결과 모으고 응답 결과로 parsing
    
- [ ]  문제 도메인 구현
    - [x]  문제 선정 로직 구현 (내가 풀었던 문제를 제외한 난이도에서 선정, 만약 없으면 그냥 아무거나 선정)
    - [ ]  실제 문제 구하는 거는 아직 대기. 테스트로만 진행
        - [x]  S3 버킷 추가
        - [ ]  테스트

- [x]  웹소켓 인증을 위한 스프링 시큐리티 인터셉터 추가
    - [x]  테스트
- [x]  오픈비두 컨트롤러단 구현만 완료. 테스트는 태희랑 추후에 진행 필요

## ✨내일 진행할 내용

- [ ]  오픈비두 및 RTC 관련 공부
- [ ]  채점 서비스 구현
    - [ ]  채점서버로 보낼 API 어떤식으로 보낼지 고민
    - [ ]  webclient를 활용한 통신
    - [ ]  결과 모으고 응답 결과로 parsing
    - [ ]  API 명세에 DTO 자세하게 기록 필요

## ✨읽어볼 내용

[spring actuator 안전하게 사용하기](https://techblog.woowahan.com/9232/)

## ✨배운 내용

### 웹소켓 + STOMP 사용 관련 트러블 슈팅

웹소켓 초반 연결 시에만 인증을 하고 이후에는 인증과정을 거치지 않음

따라서 SecurityContextHolder를 활용할 수 없음

내 정보를 넣어주면 됨

[실제로는 모든 요청에 jwt를 넣어도 된다. 여기서 websocket 세션이 연결되었느냐, 끊어졌느냐 등에 따라서 jwt를 검사하도록 하면 된다.](https://velog.io/@joypeb/Springboot3-Websocket-%EC%B1%84%ED%8C%85-Stomp-SockJS-Spring-Security) 다만 우리는 첫 요청할 때만 넣어준다고 한다.

만약 바꿔야 한다면 위 내용 참고해서 진행해보자

# 😜 Today’s Small Happiness

- 진도가 잘 나가는 편. 확실히 처음 접하는 기술에도 거부감이나 어려움을 덜 느끼게 되는 것 같음. 확실히 프로젝트를 하면서 배우는 게 제일 빠른 것 같다

# 🧐 Let’s Think About It

# 🙀 Got Stuck..