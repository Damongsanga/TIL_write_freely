# TIL (Today I Learned)

# 4ì›” 6ì¼ ê¸ˆìš”ì¼

# ğŸ˜ƒÂ What I Learned

## âœ¨ì˜¤ëŠ˜ ì§„í–‰í•œ ë‚´ìš©

- [x]  íšŒê³ 

## âœ¨ë°°ìš´ ë‚´ìš©

## ìš°í…Œì½” ì½”ë“œ ê¹Œë³´ê¸°

[https://github.com/woowacourse-teams/2020-6rinkers/tree/dev/back](https://github.com/woowacourse-teams/2020-6rinkers/tree/dev/back)

## gradle ë°°ìš°ê¸°

**`build.gradle`** íŒŒì¼, **`src`** ë””ë ‰í† ë¦¬, **`gradle`** ë””ë ‰í† ë¦¬

- gradle wrapper

```bash
$ gradle wrapper

BUILD SUCCESSFUL in 602ms
1 actionable task: 1 executed

.
â”œâ”€â”€ build.gradle
â”œâ”€â”€ gradle
â”‚   â””â”€â”€ wrapper
â”‚       â”œâ”€â”€ gradle-wrapper.jar
â”‚       â””â”€â”€ gradle-wrapper.properties
â”œâ”€â”€ gradlew
â””â”€â”€ gradlew.bat

2 directories, 5 files

  $ ./gradlew build
  $ gradle build
```

- **gradle.bat**
    - ìœˆë„ìš°ìš© ì‹¤í–‰ ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ë¡œ ìœˆë„ìš° ì‹¤í–‰íŒŒì¼ì´ë¼ëŠ” ì  ë¹¼ê³ ëŠ” gradlewë‘ ë™ì¼
    
- **gradle/wrapper/gradle-wrapper.jar**
    - gradlewë‚˜ gradlew.bat íŒŒì¼ì´ í”„ë¡œì íŠ¸ ë‚´ì— ì„¤ì¹˜í•˜ëŠ” ì´ íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ gradle taskë¥¼ ì‹¤í–‰
    - ê·¸ë˜ì„œ ë¡œì»¬ í™˜ê²½ì˜ ì˜í–¥ì„ ë°›ì§€ ì•ŠìŒ
    - **(ì‹¤ì œë¡œëŠ” Wrapper ë²„ì „ì— ë§ëŠ” êµ¬ì„±ë“¤ì„ ë¡œì»¬ ìºì‹œì— ë‹¤ìš´ë¡œë“œ ë°›ìŒ)**
    
- **gradle/wrapper/gradle-wrapper.properties**
    - gradle wrapper ì„¤ì • íŒŒì¼
    - ì´ íŒŒì¼ì˜ wrapper ë²„ì „ ë“±ì„ ë³€ê²½í•˜ë©´ task ì‹¤í–‰ ì‹œ, ìë™ìœ¼ë¡œ wrapper íŒŒì¼ì„ ë¡œì»¬ ìºì‹œì— ë‹¤ìš´ë¡œë“œ í•¨
        
        ```groovy
        distributionBase=GRADLE_USER_HOME
        distributionPath=wrapper/dists
        distributionUrl=https\://services.gradle.org/distributions/gradle-6.4.1-bin.zip
        zipStoreBase=GRADLE_USER_HOME
        zipStorePath=wrapper/dists
        ```
        

- **settings.gradle**
    - í”„ë¡œì íŠ¸ì˜ êµ¬ì„± ì •ë³´ë¥¼ ê¸°ë¡í•˜ëŠ” íŒŒì¼
    - ì–´ë–¤ í•˜ìœ„ í”„ë¡œì íŠ¸ë“¤ì´ ì–´ë–¤ ê´€ê³„ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€ë¥¼ ê¸°ìˆ 
    - gradleì€ ì´ íŒŒì¼ì— ê¸°ìˆ ëœëŒ€ë¡œ í”„ë¡œì íŠ¸ë¥¼ êµ¬ì„±
    
    ```groovy
    rootProject.name = 'maryflower'
    ```
    

### build.gradle

- plugin

```bash
plugins {
	id 'java'
	id 'org.springframework.boot' version '3.2.3'
	id 'io.spring.dependency-management' version '1.1.4'

	id "org.sonarqube" version "4.2.0.3129"
}
```

- ì—¬ëŸ¬ í”„ë¡œì íŠ¸ ì“°ê¸°
    
    ```groovy
    // settings.gradle
    rootProject.name = 'back'
    include 'cocktailpick-core'
    include 'cocktailpick-api'
    include 'cocktailpick-common'
    ```
    
    ```groovy
    // ë£¨íŠ¸ í”„ë¡œì íŠ¸ì˜ build.gradle
    
    plugins {
        id 'java'
        id 'org.springframework.boot' version '2.3.1.RELEASE'
    }
    
    repositories {
        mavenCentral()
    }
    
    bootJar.enabled = false
    
    subprojects {
        group 'com.cocktailpick'
        version '1.0'
    
        apply plugin: 'java'
        apply plugin: 'org.springframework.boot'
        apply plugin: 'io.spring.dependency-management'
        apply plugin: 'jacoco'
    
        sourceCompatibility = 1.8
    
        configurations {
            compileOnly {
                extendsFrom annotationProcessor
            }
        }
    
        repositories {
            mavenCentral()
        }
    
        dependencies {
            implementation 'com.google.guava:guava:29.0-jre'
            compileOnly 'org.projectlombok:lombok'
            annotationProcessor 'org.projectlombok:lombok'
            testImplementation('org.springframework.boot:spring-boot-starter-test') {
                exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'
            }
        }
    
        test {
            useJUnitPlatform()
            finalizedBy 'jacocoTestReport'
        }
    
        jacocoTestReport {
            reports {
                html.enabled true
                xml.enabled false
                csv.enabled true
            }
            finalizedBy 'jacocoTestCoverageVerification'
        }
    
        jacocoTestCoverageVerification {
            violationRules {
                rule {
                    enabled = true
                    element = 'CLASS'
    
                    limit {
                        counter = 'METHOD'
                        value = 'COVEREDRATIO'
                        minimum = 0.60
                    }
    
                    limit {
                        counter = 'INSTRUCTION'
                        value = 'COVEREDRATIO'
                        minimum = 0.60
                    }
    
                    excludes = ["*.dto", "*.dto.*", "*.BackApplication", "*.config.*", "*.security.*", "*.exceptions.*", "*.util.*", "*.EmptyUser"]
                }
            }
        }
    }
    ```
    
    /code
    

### lombok.config

```groovy
lombok.addLombokGeneratedAnnotation = true
```

### íŒ¨í‚¤ì§€ êµ¬ì¡°?

```java
import com.cocktailpick.core.tag.service.TagService;

// í˜„ì¬ìœ„ì¹˜
back/cocktailpick-api/src/main/java/com/cocktailpick/api/tag/controller/TagController

```

# ğŸ˜œÂ Todayâ€™s Small Happiness

# ğŸ§Â Letâ€™s Think About It

# ğŸ™€Â Got Stuck..