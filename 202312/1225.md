# TIL (Today I Learned)

# 12ì›” 25ì¼ ì›”ìš”ì¼

# ğŸ˜ƒÂ What I Learned

# í”„ë¡œì íŠ¸

### ì˜¤ëŠ˜ í•œ ë‚´ìš©

1. **WebFlux ë³€ê²½ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±**
    - ì§„í–‰ X, ê³µë¶€í•œ ë‚´ìš©ì— ë”°ë¥´ë©´ ì²˜ë¦¬ ì‹œê°„ì´ ê¸´ blocking IO ì‘ì—…ì—ì„œëŠ” ì•ˆí•˜ëŠ”ê²Œ ì¢‹ë‹¤ê³  í•¨
2. **AWSë¥¼ í†µí•œ ë°°í¬ ê³µë¶€**
    - ì£¼ìš” ë‚´ìš©ê³¼ ì‚¬ìš© ë°©ë²•ì— ëŒ€í•´ì„œ ì •ë¦¬í•´ë´„
    - Elastic BeanStalkë¥¼ ì‚¬ìš©í• ì§€ EC2ë¥¼ ì‚¬ìš©í• ì§€.. ê³ ë¯¼ë¨
    - ì‹œê°„ì´ ë¶€ì¡±í•˜ë©´ PaaSë¥¼ ì‚¬ìš©í•´ë³´ì

## Effective Java

### 18. ìƒì†ë³´ë‹¤ëŠ” ì»´í¬ì§€ì…˜ì„ ì´ìš©í•˜ë¼

## IaaS vs PaaS vs SaaS

- **On-Premise**
    - ê¸°ì—…ì´ ì„œë²„ë¥¼ ìì²´ì ìœ¼ë¡œ ë³´ìœ í•˜ê³  ì§ì ‘ ì„¤ì¹˜ & ìš´ì˜í•˜ëŠ” ë°©ì‹
    - í´ë¼ìš°ë“œì™€ ëŒ€ë¹„ë˜ëŠ” ê°œë…
    - ì˜¨í”„ë ˆë¯¸ìŠ¤ â†” private cloud, public cloud
        - ì¸í”„ë¼ì˜ ìœ„ì¹˜ & IT ìì› ê´€ë¦¬ë¥¼ ëˆ„ê°€ í•˜ëŠëƒ, ì ‘ê·¼ ê¶Œí•œì´ ì–´ë””ê¹Œì§€ ìˆëŠëƒì— ë”°ë¥¸ ì°¨ì´

- **IaaS (Infrastructure as a Service)**
    - ì„œë“œíŒŒí‹°ê°€ ì œê³µí•˜ëŠ” ìë™í™”/í™•ì¥ ê°€ëŠ¥í•œ IT ì¸í”„ë¼
    - ìŠ¤í† ë¦¬ì§€, í˜¸ì´ìŠ¤íŒ…, ì»´í“¨íŒ…, ë„¤íŠ¸ì›Œí‚¹ í¬í•¨ë˜ë©° ì‚¬ìš©í•œ ë§Œí¼ ë¹„ìš© ì§€ê¸‰
    - ë°ì´í„° ì„¼í„° êµ¬ì¶•í•˜ëŠ” ëŒ€ì‹  ì»´í“¨í„° ì¸í”„ë¼ë¥¼ ëŒ€ì—¬í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê°œë…
    - ì´í›„ í•„ìš”í•œ ë¯¸ë“¤ì›¨ì–´, ì• í”Œë¦¬ì¼€ì´ì…˜ ì†Œí”„íŠ¸ì›¨ì–´, ë°ì´í„°ë² ì´ìŠ¤ ë“±ì„ ì¸ê³„ë°›ì•„ ì„¤ì¹˜í•˜ê³  ìœ ì§€ ê´€ë¦¬
    - ì´ˆê¸° êµ¬ì¶• ë¹„ìš© ì¦ê°€ ë° ì„œë²„ íŠ¸ë˜í”½ í­ì¦ì‹œ ìœ ì—°í•œ ëŒ€ì‘ ê°€ëŠ¥
    - ë¹Œë ¤ì˜¨ ì¸í”„ë¼ì—ì„œ OS, ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì¹˜í•˜ì—¬ ì„œë¹„ìŠ¤ ìš´ì˜ ê°€ëŠ¥
    - ëŒ€í‘œì ì¸ ì˜ˆì‹œ : **AWS EC2 (Elastic Compute Cloud)**
    
- **Paas (Platform as a a Service)**
    - IaaS  + ê°œë°œ íˆ´, ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ + ë¯¸ë“¤ì›¨ì–´ & DB ê´€ë¦¬, OS í¬í•¨
    - ëŒ€í˜• IT ê¸°ì—…ì—ì„œ ì£¼ë¡œ ì‚¬ìš© (ë…ì  ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë§ì´ êµ¬ì¶•í•˜ëŠ” ê¸°ì—…)
    - êµ¬ê¸€ ì•± ì—”ì§„, ì˜¤ë¼í´ í´ë¼ìš°ë“œ í”Œë«í¼
    - IaaSë¥¼ ë‚´ë¶€ ì¸í”„ë¼ì—ì„œ ì‘ì—…í•˜ë„ë¡ ìœ ë„í• ìˆ˜ë„ (AWS, Oracle) ì•„ë‹ ìˆ˜ë„ ìˆìŒ
    - ê°œë°œìê°€ í•„ìš”í•œ APIë¥¼ ì œê³µ â‡’ í•„ìš”í•œ ì„œë¹„ìŠ¤ë¥¼ ì„ íƒí•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ
    - ëŒ€í‘œì ì¸ ì˜ˆì‹œ : **AWS Elastic Beanstalk**, Windows Azure, Google App Engine
    
- **Saas (Software as a Service)**
    - ì„œë“œíŒŒí‹°ê°€ í˜¸ìŠ¤íŒ… ë°©ì‹ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ ì œì–´
    - ì›¹ì„ í†µí•´ ì ‘ì†í•˜ì—¬ ë¡œê·¸ì¸, ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜ í•„ìš” ì—†ì´ ì›¹ì—ì„œ ì§„í–‰
    - ì˜¤ì§ ì¸í„°ë„· ì—°ê²°ë§Œ í•˜ë©´ ë¨
    - ì»¨í…ì¸ ë¥¼ ì†Œìœ í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ â€˜êµ¬ë…â€™í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í´ë¼ìš°ë“œ ì¸í”„ë¼ë¥¼ ì‚¬ìš©
    - ëŒ€í‘œì ì¸ ì˜ˆì‹œ : ë“œë¡ë°•ìŠ¤, êµ¬ê¸€ ë…ìŠ¤, ë„¤ì´ë²„ MYBOX ë“± + ë„·í”Œë¦­ìŠ¤ì™€ ê°™ì€ OTTì„œë¹„ìŠ¤

- ì¶”ê°€ ê°œë…
    - **Hyperviser**
        - ë‹¤ì–‘í•œ ì»´í“¨í„° ìì›ì— ìƒì´í•œ OSì˜ ì ‘ê·¼ ë°©ë²•ì„ í†µì œí•˜ëŠ” ì–‡ì€ ê³„ì¸µì˜ SW
        - ë‹¤ìˆ˜ì˜ OSë¥¼ í•˜ë‚˜ì˜ ì»´í“¨í„° ì‹œìŠ¤í…œì—ì„œ ê°€ë™í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” CPU/OS ì‚¬ì´ ë¯¸ë“¤ì›¨ì–´
        - í•˜ë‚˜ì˜ ì»´í“¨í„°ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ OSë¥¼ ì‚¬ìš©í•˜ëŠ” ê°€ìƒ ì»´í“¨í„° ë§Œë“¤ ìˆ˜ ìˆê²Œ í•˜ëŠ” ê°€ìƒí™” ì—”ì§„

- ì°¸ì¡°
    
    [https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=futuremain&logNo=221360648846](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=futuremain&logNo=221360648846)
    
    [https://www.freshworks.com/ko/freshdesk/kblogs/iaas-paas-saas/](https://www.freshworks.com/ko/freshdesk/kblogs/iaas-paas-saas/)
    

### Github Action ì´ë€?

- ë¹Œë“œ, í…ŒìŠ¤íŠ¸ ë° ë°°í¬ íŒŒì´í”„ë¼ì¸ì„ ìë™í™”í•  ìˆ˜ ìˆëŠ” ì§€ì†ì  í†µí•© ë° ë°°í¬ (CI/CD) í”Œë«í¼

## Java ì˜¤ë¥˜ Log

```java
java.lang.NoSuchMethodError: com.nhn.user.UserAdmin.addUser(Ljava/lang/String;)V
```

**L : í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤**

**V : ë°˜í™˜ê°’ì´ Void**

â‡’ ìœ„ ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” java.lang.String ê°ì²´ 1ê°œë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ê³  ë°˜í™˜ê°’ì€ ì—†ëŠ” com.nhn.user.UserAdmin.addUserë¼ëŠ” ë©”ì„œë“œë¥¼ ì°¾ì§€ ëª»í–ˆë‹¤ëŠ” ì˜ë¯¸

ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œëŠ” ì´ì „ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì»´íŒŒì¼ë˜ì—ˆìœ¼ë¯€ë¡œ, "V"ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë„ë¡ class íŒŒì¼ì— ê¸°ë¡ë˜ì–´ ìˆì§€ë§Œ, ìƒˆë¡œ ë³€ê²½ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ "V"ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œëŠ” ì—†ì–´ì§€ê³ , "Lcom/nhn/user/User;"ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œê°€ ì¶”ê°€ë˜ì—ˆê¸° ë•Œë¬¸ì— NoSuchMethodErrorê°€ ë°œìƒí•œ ê²ƒ

ì°¸ì¡°

[https://d2.naver.com/helloworld/1230](https://d2.naver.com/helloworld/1230)

## Spring Dependency Injection By Annotation

### 0. @Bean

- @Bean ìœ¼ë¡œ beanì„ ìƒì„±í•˜ê²Œ ë˜ë©´, method nameì´ bean nameìœ¼ë¡œ ìƒì„±

### 1. @Autowired ì´ëª¨ì €ëª¨

- ë°°ì—´ì´ë‚˜ ë¦¬ìŠ¤íŠ¸ì™€ ê°™ì€ collectionì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥
    - ì—¬ê¸°ì— @Priority ë‚˜ @Orderë¥¼ ì§€ì •í•˜ì—¬ ìˆœì„œë¥¼ sortí•  ìˆ˜ ìˆìŒ
    - ì§€ì •í•˜ì§€ ì•Šì„ ì‹œ Beanì´ containerì— ì˜í•´ ë“±ë¡ëœ ìˆœì„œëŒ€ë¡œ ì£¼ì…
- **default search methodëŠ” by-type**ìœ¼ë¡œ ë§Œì•½ 2ê°œ ì´ìƒì´ ë°œê²¬ë˜ì—ˆì„ ì‹œ by-nameìœ¼ë¡œ ì™„ì „ ì¼ì¹˜í•˜ëŠ” ë¹ˆì´ ìˆìœ¼ë©´ ì´ë¥¼ ì£¼ì…í•œë‹¤. ë§Œì•½ ì•„ë‹ˆë¼ë©´ `NoUniqueBeanDefinitionException` ë°œìƒ
- ìƒì„±ì ì£¼ì… ì‚¬ìš©ì‹œ ì˜¤ì§ 1ê°œë§Œ @Autowired ë¡œ ì„¤ì • ë˜ì–´ìˆì–´ì•¼ í•˜ë©° ë‚˜ë¨¸ì§€ë“¤ì€ required=falseë¡œ ì„¸íŒ… í•„ìš”
- Spring 5.0 ë¶€í„° ìƒì„±ì ì£¼ì… ì‹œ @Nullable ì‚¬ìš©í•˜ì—¬ nullì´ ë“¤ì–´ì˜¤ëŠ” ê²ƒë„ í—ˆìš© ê°€ëŠ¥ (Java 1.8 ë¶€í„° Optionalë„ ì‚¬ìš© ê°€ëŠ¥)

### 1.1 @Autowired ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ì¼ì´ ì—†ì–´ì§€ëŠ” ì´ìœ 

- Beanì´ ì—†ëŠ” ê²½ìš°ì— Runtimeì— NullPointerExceptionì´ ë°œìƒ
- @Autowiredë¥¼ í™œìš©í•œ Field Injectionì€ deprecatedë˜ê³  ìš”ì¦˜ì—” (ì£¼ë¡œ Lombokì˜ @RequiredArgConstructorë¥¼ í†µí•œ) Constructor Injectionì„ í™œìš©

### 1.2 @Autowiredë¥¼ self ì°¸ì¡°í•˜ì§€ ì•Šë„ë¡ ê¶Œê³ 

- ë°˜ë“œì‹œ í•„ìš”í•œ ê²½ìš°ë§Œ ì‚¬ìš©í•˜ë„ë¡ **(or example, for calling other methods on the same instance through the beanâ€™s transactional proxy)**
- ì´ë³´ë‹¤ @Resourceë¥¼ ì‚¬ìš©í•˜ì—¬ uniqueí•œ nameìœ¼ë¡œ proxyë¥¼ ë°›ì„ ë•Œë§Œ ì‚¬ìš©í•˜ì
- @Bean ë©”ì†Œë“œë¥¼ ê°™ì€ configuration ë‚´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ self-ì°¸ì¡°ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ê·¸ëŸ¬í•œ ë©”ì†Œë“œê°€ ìˆë‹¤ë©´ staticìœ¼ë¡œ ì„ ì–¸í•˜ì—¬ configuration classì˜ ë¼ì´í”„ ì‚¬ì´í´ê³¼ ë¶„ë¦¬í•´ ì¤„ í•„ìš”ê°€ ìˆë‹¤

### 2. Bean ì£¼ì…ì‹œ @Primary, @Qualifier, By-name, By-Type ìš°ì„ ìˆœìœ„

@Qualifier > @Primary > By-name

> **if both theÂ *@Qualifier*Â andÂ *@Primary*Â annotations are present, then theÂ *@Qualifier*Â annotation will have precedence.**Â Basically,Â *@Primary*Â defines a default, whileÂ *@Qualifier*Â is very specific.
> 

- @Primary ëŠ” ìš°ì„ ìˆœìœ„ë¥¼ ì£¼ëŠ” ê²ƒìœ¼ë¡œ ì—¬ëŸ¬ê°œ ì§€ì •ì´ ê°€ëŠ¥í•˜ë‹¤
- **@Qualifier ëŠ” by-nameì´ default**ì´ê³  ì œì¼ ìš°ì„ ìˆœìœ„ê°€ ë†’ë‹¤
    - Beanì—ì„œ nameì„ ì§€ì •í•˜ëŠ” ê²½ìš°ëŠ” Componentì— annotaionìœ¼ë¡œ ì§ì ‘ ì§€ì •í•˜ê±°ë‚˜
    
    ```java
    @Component
    @Qualifier("myName")
    public class MyClass implements MyInterface {
    }
    ```
    
    - **applicationContext.xml**ì— ì§€ì •í•  ìˆ˜ ìˆë‹¤
    
    ```java
    <bean class="example.SimpleMovieCatalog">
    		<qualifier value="main"/>
    ```
    
    - ì‚¬ìš©í•  ë•ŒëŠ” ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ ì•ˆì—ì„œë„ ì§ì ‘ ì§€ì •ì´ ê°€ëŠ¥í•˜ë‹¤
        
        ```java
        @Autowired
        	public void prepare(@Qualifier("main") MovieCatalog movieCatalog,
        			CustomerPreferenceDao customerPreferenceDao) {
        		this.movieCatalog = movieCatalog;
        		this.customerPreferenceDao = customerPreferenceDao;
        	}
        ```
        
- Collectionì—ì„œëŠ” @Qualifier ì‚¬ìš©ì‹œ Beanì˜ íƒ€ì…ê³¼ ì´ë¦„ì´ ê°™ì€ beanì´ ì—¬ëŸ¬ê°œ ìˆì–´ë„ í™œìš©ì´ ê°€ëŠ¥í•˜ë‹¤
    
    > Qualifiers also apply to typed collections, as discussed earlierâ€‰â€”â€‰for example, toÂ `Set<MovieCatalog>`. In this case, all matching beans, according to the declared qualifiers, are injected as a collection. This implies that qualifiers do not have to be unique. Rather, they constitute filtering criteria. For example, you can define multipleÂ `MovieCatalog`Â beans with the same qualifier value â€œactionâ€, all of which are injected into aÂ `Set<MovieCatalog>`Â annotated withÂ `@Qualifier("action")`.
    > 
- **@ResourceëŠ” ìƒì„±ìì— ì‚¬ìš© ë¶ˆê°€í•¨ìœ¼ë¡œ ìƒì„±ìì— ì‚¬ìš©í•´ì•¼í•˜ë©´ @Qualifierê°€ í•„ìš”í•¨**

### 3. @Resource ë¥¼ ì‚¬ìš©í•œ DI

- ìë°” ì§€ì› ì• ë…¸í…Œì´ì…˜ìœ¼ë¡œ í”„ë ˆì„ì›Œí¬ ì¢…ì† X
- **by-name** â‡’ by-type â‡’ @Qualifier (@AutowiredëŠ” by-type ìš°ì„ ì´ë‹¤!)
- ìƒì„±ìì—ëŠ” ì§€ì • ë¶ˆê°€ëŠ¥
- @Resource ì‚¬ìš©ì‹œ default í•„ë“œëª…ì´ë‚˜ í”„ë¡œí¼í‹° ëª… (setter ì£¼ì…ì˜ ê²½ìš°)ë¡œ name ì§€ì •

- ì°¸ì¡°
    
    [https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/autowired-qualifiers.html](https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/autowired-qualifiers.html)
    
    [https://www.baeldung.com/spring-qualifier-annotation](https://www.baeldung.com/spring-qualifier-annotation)
    
    [https://tech.kakaopay.com/post/martin-dev-honey-tip-2/](https://tech.kakaopay.com/post/martin-dev-honey-tip-2/)
    
    [https://stackoverflow.com/questions/30360589/does-spring-autowired-inject-beans-by-name-or-by-type](https://stackoverflow.com/questions/30360589/does-spring-autowired-inject-beans-by-name-or-by-type)
    

# ğŸ˜œÂ Todayâ€™s Small Happiness

- ì˜¤ëŠ˜ì€ ì˜¤ëœë§Œì— ì§‘ì—ì„œ ì§„ë“í•˜ê²Œ ê³µë¶€ (í¬ë¦¬ìŠ¤ë§ˆìŠ¤ì¸ë°..ã…ã…)

# ğŸ§Â Letâ€™s Think About It

# ğŸ™€Â Got Stuck..