# TIL (Today I Learned)

# 5ì›” 9ì¼ ëª©ìš”ì¼

# ğŸ˜ƒÂ What I Learned

## âœ¨ì˜¤ëŠ˜ ì§„í–‰í•œ ë‚´ìš©

**ì±„ì **

- [x]  ì±„ì  ì„œë²„ í”„ë¡ íŠ¸ì™€ Test ì§„í–‰ (ë¡œì»¬)

íšŒê³  íŒŒíŠ¸

- [ ]  front í˜ì´ì§€ ì¶”ê°€ í›„ test í•„ìš”

- [x]  ë¬´ì¤‘ë‹¨ ë°°í¬
    - [x]  service-url ìœ„ì¹˜ jenkins ë‚´ë¶€ë¡œ ìˆ˜ì •
    - [x]  default.conf include ì£¼ì†Œ ìˆ˜ì •
    - [x]  jenkinsì—ì„œ nginx restartë¥¼ ëª»í•˜ëŠ”ì¤‘ (nginx -s reload)
        - [x]  jenkinsì—ì„œ nginxë¥¼ reload ëª»í•˜ëŠ”ì¤‘ sshë¡œ ì ‘ê·¼í•´ì•¼í•˜ëŠ”ë“¯
        - [x]  [https://tech.xangle.io/backend/jenkins-cicd/](https://tech.xangle.io/backend/jenkins-cicd/)
    - [x]  **ì•„ë‹ˆë©´ ê·¸ëƒ¥ ì›ë³µí•˜ê³  sshë¡œ deploy.shë¥¼ ì‘ë™ì‹œì¼œë„ ë ë“¯ â†’ ì´ê±°ë¶€í„° í™•ì¸í•´ë³´ì**
    - [x]  ê²°ë¡  : SSH ë¡œ ì ‘ê·¼í•´ì•¼í•˜ëŠ”ë° pem íŒŒì¼ì„ ì²˜ìŒì— ë°›ì•˜ë˜ ec2 í¨íŒŒì¼ë¡œ ì ‘ê·¼í•´ì•¼í•¨. ë‹¹ì—°íˆ ìœ ì €ëŠ” ubuntu. ì´ëŸ¬ë©´ sudo ê¶Œí•œì´ ì—†ìŒìœ¼ë¡œ sudo ëª…ë ¹ì–´ ì‚¬ìš©í•˜ë„ë¡ [deploy.sh](http://deploy.sh) íŒŒì¼ ë³€ê²½. ì£¼ì˜í•  ì ì€ deploy.sh íŒŒì¼ì€ docker-compose.ymlê³¼ .env íŒŒì¼ì´ ìˆëŠ” ê²½ë¡œì—ì„œ ì‹¤í–‰í•´ì•¼í•œë‹¤ëŠ” ê²ƒ!

- [ ]  ëª¨ë‹ˆí„°ë§
    - [ ]  docker-compose-monitoring.yml ìœ¼ë¡œ ë”°ë¡œ ëº¼ ê²ƒ
    - [ ]  nginx-prometheus exporter ë¡œì»¬ì— ì„¤ì¹˜í•´ì„œ ì—°ë™
    - [ ]  spring actuator & prometheusë¡œ ì‹¤ì‹œê°„ ë¡œê·¸ ì—°ë™
        - [x]  ë„ëŒ€ì²´ ì™ ì§€ /actuator/prometheus ì—”ë“œí¬ì¸íŠ¸ëŠ” ì—´ì–´ì¤˜ë„ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ë‹¨ì—ì„œ ë§‰í˜;;;;;
        - [x]  ì—ëŸ¬ë¡œê·¸ ë–„ë¬¸ì— ì¼ë‹¨ ëº´ë‘ 
            
            ```yaml
            
              - job_name: "back-blue"
                metrics_path: "/actuator/prometheus"
                scrape_interval: 10s
                static_configs:
                  - targets: ["back-blue:8080"]
            
              - job_name: "back-green"
                metrics_path: "/actuator/prometheus"
                scrape_interval: 10s
                static_configs:
                  - targets: ["back-green:8080"]
            
            ```
            
    - [ ]  Promtail & Loki ì„¤ì¹˜ ë° ì—°ë™
        - [x]  ë„ìš°ê¸°ëŠ” í–ˆëŠ”ë° ì„œë¡œ ì—°ë™ì´ ì œëŒ€ë¡œ ì•ˆë˜ëŠ” ê²ƒ ê°™ìŒ..

- [x]  base 64 ë¬¸ì œ
    - [x]  [https://shanepark.tistory.com/487](https://shanepark.tistory.com/487)

## âœ¨ë‚´ì¼ ì§„í–‰í•  ë‚´ìš©

- [ ]  github token refresh í…ŒìŠ¤íŠ¸
- [ ]  github repository ë“±ë¡ í…ŒìŠ¤íŠ¸
    - [ ]  History ê¸°ë°˜ìœ¼ë¡œ ì–´ë–»ê²Œ ë„£ì„ì§€
    - [ ]  ì´ë¦„ ì–´ë–»ê²Œ ë„£ì„ì§€
    - [ ]  ì‘ë‹µê°’ string ë§ê³  ì–´ë–¤ê±° ë„£ì„ì§€

# ğŸ˜œÂ Todayâ€™s Small Happiness

- ì•„ì°¨ì‚° ë“±ì‚° 2ì‹œê°„. ë§ˆìŒ ì •ë¦¬ ì•„ìì•„ì!

# ğŸ§Â Letâ€™s Think About It

# ğŸ™€Â Got Stuck..