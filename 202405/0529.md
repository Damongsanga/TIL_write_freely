# TIL (Today I Learned)

# 5ì›” 29ì¼ ìˆ˜ìš”ì¼

# ğŸ˜ƒÂ What I Learned

## âœ¨ì˜¤ëŠ˜ ì§„í–‰í•œ ë‚´ìš©

- [x]  ê³µí†µ ìê¸°ì†Œê°œì„œ ì‘ì„±
- [x]  ë°˜ë ¤ìƒí™œ ë¸”ë¡œê·¸ ë©´ì ‘ ì§ˆë¬¸ ì •ë¦¬
- [x]  optional ê³µë¶€
- [x]  í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì¢…ë¥˜

## âœ¨ë°°ìš´ ë‚´ìš©

### ì·¨ì—… ì§ˆë¬¸

- **ì…ì‚¬ ì²« ë‚  ìƒˆë¡œìš´ ë§¥ ë…¸íŠ¸ë¶ì„ ë°›ì•˜ë‹¤ê³  í•˜ì. ì–´ë–¤ ê²ƒë¶€í„° í•  ê²ƒì¸ê°€?**

- **í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ êº¼ë‚´ì˜¨ ë’¤ ë˜ ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ì— ë„˜ê²¨ì£¼ëŠ” APIê°€ ìˆë‹¤ê³  í•˜ì. ì‘ì—… ì†ë„ê°€ ë„ˆë¬´ ëŠë¦° ê²ƒ ê°™ì•„ í™•ì¸í•´ ë³´ë‹ˆ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ êº¼ë‚´ëŠ” ë°ì— 10ì´ˆê°€ ê±¸ë¦¬ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤. ì´ë•Œ ì–´ë–¤ ì‹œë„ë¥¼ í•´ë³¼ ê²ƒì¸ê°€?**

- ì‹¤ì‹œê°„ ì½”ë“œ ë¦¬ë·°

- ì¶”ê°€

[https://blog.ban-life.com/ë°˜ë ¤ìƒí™œ-ì„œë²„-ê°œë°œì-700ëŒ€-1-1aa370e64781](https://blog.ban-life.com/%EB%B0%98%EB%A0%A4%EC%83%9D%ED%99%9C-%EC%84%9C%EB%B2%84-%EA%B0%9C%EB%B0%9C%EC%9E%90-700%EB%8C%80-1-1aa370e64781)

## Optional ë°”ë¥´ê²Œ ì“°ê¸°

Optionalì€ ë¹„ì‹¸ë‹¤!!

â‡’ Optionalì€ ì‚¬ìš©í•  ë•Œ null ì²´í¬ë¥¼ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤!

### ê³µë¶€í•˜ê²Œ ëœ ê³„ê¸°

- Optionalì„ ë°›ì€ í›„ deviceToken.isEmpty()ì™€ ê°™ì€ í˜•íƒœë¡œ ì‚¬ìš©í•˜ëŠ” ê±´ ì•ˆí‹° íŒ¨í„´ì…ë‹ˆë‹¤. â†’ !!
    
    ```java
    final Optional<String> deviceToken = notifyingTarget.getActiveDeviceToken();
    if (deviceToken.isEmpty()) return;
    ```
    

### êµ³ì´ ì´ëŸ´ ë•ŒëŠ” Optionalì„ ì‚¬ìš©í•˜ì§€ ë§ì

1. **get()ìœ¼ë¡œ Optional ê°ì²´ë¥¼ ì§ì ‘ í™•ì¸í•˜ì§€ ë§ì**
    
    **isPresent()ì™€ get() ëŒ€ì‹  orElse(), orElseGet() ì‚¬ìš©í•˜ì—¬ null ì²˜ë¦¬ ëª…ì‹œì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì**
    
    **ì¶”ê°€ë¡œ orElse() ëŒ€ì‹  orElseGet(), orElseThrow() ì‚¬ìš©í•˜ì**
    
2. ì»¬ë ‰ì…˜ì€ nullì´ ì•„ë‹Œ ë¹„ì–´ìˆëŠ” ì»¬ë ‰ì…˜ì„ ë°˜í™˜í•˜ê³ , Optionalë¡œ êµ³ì´ ê°ì‹¸ì§€ ë§ì.
- ì¶”ê°€ë¡œ Spring Data JPAì—ì„œ nullì„ ë°˜í™˜ ì•ˆí•˜ë©´ Optionalë¡œ ê°ì‹¸ì§€ ë§ì

```java
return Optional.ofNullable(members); // X
return members != null ? members : Collections.emptyList(); // O
```

1. ë‹¨ìˆœíˆ ê°’ì„ ì–»ì„ ëª©ì ì´ë¼ë©´ nullì„ ì‚¬ìš©í•˜ì
    
    ```java
    // ì•ˆ ì¢‹ìŒ
    return Optional.ofNullable(status).orElse(READY);
    // ì¢‹ìŒ
    return status != null ? status : READY;
    ```
    

1. êµ³ì´ ìƒì„±ì, ë©”ì„œë“œ ì¸ìë¡œ ì‚¬ìš©í•˜ì§€ ë§ì

1. ì»¬ë ‰ì…˜ ì›ì†Œë¡œ êµ³ì´ ì‚¬ìš©í•˜ì§€ ë§ì
    - Mapì€ putIfAbsent() ë“±ì˜ nullì²´í¬ ë©”ì„œë“œë¥¼ ì´ë¯¸ í¬í•¨

### ì´ì™¸ í˜¼ë™ ì£¼ì˜ ë° ì„±ëŠ¥ í–¥ìƒ

1. **orElse(new ..)ëŠ” Optionalì˜ ê°’ì— ìˆë“  ë§ë“  ìˆ˜í–‰ëœë‹¤. ë”°ë¼ì„œ orElseGet(() â†’ new ..)ë¥¼ ì‚¬ìš©í•˜ì (**[https://ysjune.github.io/posts/java/orelsenorelseget/](https://ysjune.github.io/posts/java/orelsenorelseget/))
    
    ```java
    // ì•ˆ ì¢‹ìŒ
    // memberì— ê°’ì´ ìˆë“  ì—†ë“  new Member()ëŠ” ë¬´ì¡°ê±´ ì‹¤í–‰ë¨
    Optional<Member> member = ...;
    return member.orElse(new Member());  
    
    // ì¢‹ìŒ
    // memberì— ê°’ì´ ì—†ì„ ë•Œë§Œ new Member()ê°€ ì‹¤í–‰ë¨
    Optional<Member> member = ...;
    return member.orElseGet(Member::new);  
    
    // ì¢‹ìŒ
    // ì´ë¯¸ ìƒì„±ëê±°ë‚˜ ê³„ì‚°ëœ ê°’ì€ orElse()ë¥¼ ì‚¬ìš©í•´ë„ ë¬´ë°©
    Member EMPTY_MEMBER = new Member();
    ...
    Optional<Member> member = ...;
    return member.orElse(EMPTY_MEMBER);  
    ```
    
    ### orElse() vs orElseGet()
    
    ë‘˜ ë‹¤ valueê°€ nullì´ë©´ otherë¥¼ returní•œë‹¤.
    
    - **orElse() : í•´ë‹¹ ê°’ì´ null ì´ë“  ì•„ë‹ˆë“  ê´€ê³„ì—†ì´ í•­ìƒ ë¶ˆë¦°ë‹¤.**
        
        ì•„ë˜ ì½”ë“œë¥¼ ë³´ë©´, otherê°€ ë©”ì„œë“œì„ìœ¼ë¡œ ì‹¤í–‰ì„ ê¼­ í•´ì¤˜ì•¼í•œë‹¤. method1(method2())ë¼ëŠ” í•¨ìˆ˜ë¥¼ ìˆ˜í–‰í•  ë•Œ, method2()ê°€ ë¨¼ì € ì‹¤í–‰ëœë‹¤ëŠ” ê²ƒì„ ìƒê°í•˜ë©´ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤.
        
        ```java
        public T orElse(T other) {
          return value != null ? value : other;
        }
        ```
        
    - **orElseGet() : í•´ë‹¹ ê°’ì´ null ì¼ ë•Œë§Œ ë¶ˆë¦°ë‹¤.**
        
        ì•„ë˜ ì½”ë“œë¥¼ ë³´ë©´ otherë¥¼ ë°”ë¡œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤ ( get() ë©”ì„œë“œë¥¼ â€œnullì´ ì•„ë‹ ë•Œë§Œâ€ ì‹¤í–‰ )
        
        ```java
        public T orElseGet(Supplier<? extends T> other) {
          return value != null ? value : other.get();
        }
        ```
        
    
2. of(), ofNullable() í˜¼ë™ ì£¼ì˜ ([https://devkuka.tistory.com/102](https://devkuka.tistory.com/102))
    
    ### **`of()`,Â `ofNullable()`**
    
    - **`of(X)`Â : `X`ê°€Â `null`ì´ ì•„ë‹˜ì´ í™•ì‹¤í•  ë•Œë§Œ ì‚¬ìš©**
        - `X`ê°€Â `null`ì´ë©´ NullPointerException ì´ ë°œìƒí•œë‹¤.
    - `ofNullable(X)`Â : `X`ê°€Â `null`ì¼ ìˆ˜ë„ ìˆì„ ë•Œë§Œ ì‚¬ìš©
        - `X`ê°€Â `null`ì´ ì•„ë‹˜ì´ í™•ì‹¤í•˜ë©´Â `of(X)`ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
    
3. **`Optional<T>`Â ëŒ€ì‹ Â `OptionalInt`,Â `OptionalLong`,Â `OptionalDouble`**
    
    Boxing/Unboxingì„ í”¼í•˜ê¸° ìœ„í•´ `Optional<Integer>`,Â `Optional<Long>`,Â `Optional<Double>` ëŒ€ì‹ 
    
    `OptionalInt`,Â `OptionalLong`,Â `OptionalDouble`ì„ ì‚¬ìš©í•˜ì!
    
    ```java
    // ì•ˆ ì¢‹ìŒ
    Optional<Integer> count = Optional.of(38);  // boxing ë°œìƒ
    for (int i = 0 ; i < count.get() ; i++) { ... }  // unboxing ë°œìƒ
    
    // ì¢‹ìŒ
    OptionalInt count = OptionalInt.of(38);  // boxing ë°œìƒ ì•ˆ í•¨
    for (int i = 0 ; i < count.getAsInt() ; i++) { ... }  // unboxing ë°œìƒ ì•ˆ í•¨
    ```
    

- ì°¸ì¡°ìë£Œ
    - [https://homoefficio.github.io/2019/10/03/Java-Optional-ë°”ë¥´ê²Œ-ì“°ê¸°/](https://homoefficio.github.io/2019/10/03/Java-Optional-%EB%B0%94%EB%A5%B4%EA%B2%8C-%EC%93%B0%EA%B8%B0/)
    - [https://blog.ban-life.com/ë°˜ë ¤ìƒí™œ-ì„œë²„-ê°œë°œì-700ëŒ€-1-1aa370e64781](https://blog.ban-life.com/%EB%B0%98%EB%A0%A4%EC%83%9D%ED%99%9C-%EC%84%9C%EB%B2%84-%EA%B0%9C%EB%B0%9C%EC%9E%90-700%EB%8C%80-1-1aa370e64781)

### ì¶œì²˜

- [https://coding-start.tistory.com/251](https://coding-start.tistory.com/251)
- [https://code-lab1.tistory.com/186](https://code-lab1.tistory.com/186)

## ì´ì™¸ ê³µë¶€

- ëª¨ë†€ë¦¬í‹± vs ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤
    
    [https://yozm.wishket.com/magazine/detail/1813/](https://yozm.wishket.com/magazine/detail/1813/)
    

## âœ¨ë‚´ì¼ ì§„í–‰í•  ë‚´ìš©

- [ ]  ê°•ì˜
    - [ ]  Junit5 ê°•ì˜ ë§ˆë¬´ë¦¬í•˜ê¸°
- [ ]  ê³µë¶€
    - [ ]  ì›¹ì†Œì¼“ ~ ì™¸ë¶€ ë©”ì„¸ì§€ ë¸Œë¡œì»¤

# ğŸ˜œÂ Todayâ€™s Small Happiness

# ğŸ§Â Letâ€™s Think About It

# ğŸ™€Â Got Stuck..