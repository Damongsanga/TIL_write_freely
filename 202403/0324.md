# TIL (Today I Learned)

# 3월 24일 일요일

# 😃 What I Learned

## ✨오늘 진행한 내용

## ✨내일 진행할 내용

- [ ]  젠킨스 멀티브랜치 전략 공부 & Jenkins 파일에 대한 공부
    
    [https://creampuffy.tistory.com/202](https://creampuffy.tistory.com/202)
    
- [ ]  Junit 공부
- [ ]  테스트 코드 작성 및 성능 테스트 연습
- [ ]  알고리즘 1문제 쉬운걸로 풀기
- [ ]  CS 스터디 내가 낸 문제 풀기

## ✨배운 내용

## Nginx는 어느 OSI 계층에서의 로드밸런서인가?

### 둘다 가능하다

- 4계층
    - **IP 주소와 포트 번호를 기반으로 트래픽을 분산**
    - **고객이 웹사이트에 접속하려고 할 때, DNS 라운드 로빈을 통해 제공된 여러 서버 IP 중 하나로 연결 요청**
    - **nginx 로드밸런서가 이 요청을 받고, 설정된 알고리즘(예: 라운드 로빈, 최소 연결 등)에 따라 백엔드 서버 중 하나로 요청을 전달**
    - **클라이언트의 IP 주소와 목적지 포트 번호를 기준으로 로드밸런싱을 결정**
- 7계층
    - **4계층 정보 + HTTP URI, FTP 파일명, 쿠키 정보 등을 토대로 라우팅**
    - **`/images` 경로로 오는 요청은 정적 컨텐츠를 제공하는 서버**
    - **`/api` 경로로 오는 요청은 동적 컨텐츠를 처리하는 서버**

### 웹서버 소프트웨어의 서버간 라우팅

1. **Layer 4 (Transport Layer) ⇒ 로드 밸런싱**
    - **IP 주소와 포트 번호를 기반으로 트래픽을 분산**
    - **TCP/UDP 포트 정보**를 토대로 라우팅 기능이 제공
    - **“포트 단위”로 라우팅**
    - 특징
        - 데이터 확인 없이 패킷 레벨에서 로드 분산하여 속도가 빠르고 효율이 높음, 저렴함
        - 
    - **Nginx** : 여러 포트들을 하나의 **upstream 블록**으로 묶어서 **로드 밸런싱**
        - **로드 밸런싱** : 특정 경로로 전달되는 요청을 각 포트 별로 분산하여 전달, 부하 분산
2. **Layer 7 (Application Layer) ⇒ 리버스 프록싱**
    - **TCP/UDP 포트 정보에 추가적으로 HTTP URI, FTP 파일명, 쿠키 정보 등을 토대로 라우팅**
    - **“서브 도메인”에 대해 라우팅 설정 가능**
    - 특징
        - 캐싱 기능 제공
        - 비정상적인 트래픽을 사전에 필터링 가능
        - 패킷 내용 복호화가 필요하여 높은 비용 지불
        - 클라이언트와 로드밸런서 인증서 공유를 위해 공격자가 로드 밸런서를 통해 클라이언트 데이터 접근할 수 있는 보안 위험 존재
    - 웹서버 내에서 config 파일에 설정된 경로 정보를 토대로 라우팅 제공
        - API 서버에 대해 **리버스 프록시** 역할 가능

## 라운드 로빈 알고리즘에 대해 설명하라

- 방법
    - 일정한 시간 간격으로 CPU 할당
    - 해당 프로세스가 타임 슬라이스 내에 작업 완료하지 못하면 다음 프로세스로 넘겨주고 준비큐 맨 뒤로 배치
- 특징
    - 선점 스케줄링 알고리즘 (다른 프로세스가 뺏지 못함)
- 장점
    - 공정성이 높음
    - 응답 시간이 빠르고 높은 사용자 경험
    - 단순, 예측 가능성 높음
    - 대화형 운영체제에 유용 :**사용자의 입력과 즉각적으로 상호 작용하며 응답을 제공하는 시스템**
- 단점
    - 해당 대상의 상태나 부하를 고려하지 않고 균등하게 분산
        - 즉, 대상의 성능이나 부하 정도가 다르면 문제 발생 가능
    - 타임 슬라이스가 짧을 시에 CPU 스위칭이 빈번하게 일어나 오버헤드 발생
    - 너무 길면 대기하는 프로세스 지연 발생 (FCFS 정도로 성능이 낮아짐)
- 적절한 시간 간격은?
    - 80%의 CPU 사이클을 처리할 수 있도록 하는 것
    - 한 번의 문맥 교환에 걸리는 시간보다 100배 이상은 길어야 함

## ✨블로그 글 작성

# 😜 Today’s Small Happiness

- 토요일에 네이버 코테 보고 주말간 좀 쉬었다.. 저번주 이번주 너무 달려서 좋은 휴식이 되었다
- 3월 마지막주도 열심히 달려보자! 아자아자!!

# 🧐 Let’s Think About It

# 🙀 Got Stuck..