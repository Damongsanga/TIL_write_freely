# TIL (Today I Learned)

# 6월 30일 일요일

# 😃 What I Learned

## ✨오늘 진행한 내용

## ✨내일 진행할 내용

- [ ]  SQL 문제 3개
- [ ]  자기소개서 1개 문항이라도 작성 (2시간)
- [ ]  트랜잭션 AOP 발동 원리 공부 (2시간)
- [ ]  채점서버 본격적으로 시작 ⇒ 로컬에서 모놀리틱하게 개발 시작. 설계 및 도메인 나눠보기 (내용 다 노션에 정리해서 추후에 블로그에 글로 남기기) (4시간)
- [ ]  책 반납하기
- [ ]  발표 스터디 정리 (1시간)

## ✨이번주에 공부할 주제

### JPA 관련

MappedBy, 연관관계의 주인 다시 공부

@JoinColumn 다시 공부

### 기술 면접

1. **AOP가 적용되지 않는 경우 (@Transactional)**
    
    예전에 면접 본것중에 기억나는것이 spring aop가 적용안되는 사례가 무엇이 있는가 이런것도 있네요
    
    Self invocation
    클래스레벨 로직 분리하거나
    TransacrionTemplate
    프록시개념
    
    Private도 안됨
    
2. **캐싱 오염 해결 방법**
    1. 캐싱된 데이터랑 DB정합성 깨지면?
    2. 완전히 정합성이 깨지는걸 막는것은 불가능 & 캐시를 날리는 것도 방법
3. **이미 캐싱된 데이터가 노출되어버린다면?**
    1. 사용자단에 보여주는 데이터를 캐싱해놓고 쓰는데, 어드민에서 특정 데이터를 비노출 처리했지만 이미 데이터가 캐싱되어있어서 사용자에게 비노출 처리가 안되고 보여지고있다. 어떻게 처리할것인가?
    2. 일단 전파하고 캐시를 날린다. 이후 어드민에서 수정하면 캐시 날리는 로직 추가(이벤트 드리븐으로 하든...)
    3. 락을 건다(RDB 비관적 락 - 성능 이슈 주의, 분산락(Redisson...))
4. **게시판 노출횟수 카운트 방법**
    
    동시에 10만명이 접속하고 하루에 수백만건의 클릭이 일어나는 게시판의 노출횟수 카운트 어떻게 할거냐
    
    이거 레디스에 담아뒀다가 시간별로 넣으면 안되나요? (메모리에 들고있다 몇분에 한번씩 동기화하면 안됨?)
    사용자에게 그렇게 중요한가? 실시간에 보여줘야 하는가?
    글고 몇백만이면 그냥 RDBMS로 햐결해도 된다
    
    1000번째 유저 선물주기
    레디스? 안쓰면?
    윈도잉?
    처리요청을 큐에 받고 슬라이딩 윈도우로? 1000개만 받아서?
    
5. **락의 종류 다시 공부 (낙관락 vs 비관락, 분산락?)**

# 😜 Today’s Small Happiness

# 🧐 Let’s Think About It

# 🙀 Got Stuck..